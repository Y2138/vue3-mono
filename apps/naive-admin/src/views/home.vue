<template>
  <div class="p-6 space-y-6">
    <div class="text-center py-8">
      <h1 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">æ¬¢è¿å›æ¥ï¼Œ{{ userStore.userProfile?.username || 'ç”¨æˆ·' }}ï¼</h1>
      <p class="text-gray-600 dark:text-gray-300">ä»Šå¤©æ˜¯ {{ currentDate }}ï¼Œç¥æ‚¨å·¥ä½œæ„‰å¿«ï¼</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex items-center space-x-4 hover:shadow-lg transition-shadow cursor-pointer">
        <div class="text-3xl text-primary-500">
          <Icon icon="mdi:account-group" />
        </div>
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-1">ç”¨æˆ·ç®¡ç†</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">ç®¡ç†ç³»ç»Ÿç”¨æˆ·å’Œæƒé™</p>
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex items-center space-x-4 hover:shadow-lg transition-shadow cursor-pointer">
        <div class="text-3xl text-primary-500">
          <Icon icon="mdi:shield-account" />
        </div>
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-1">è§’è‰²æƒé™</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">é…ç½®ç”¨æˆ·è§’è‰²å’Œæƒé™</p>
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 flex items-center space-x-4 hover:shadow-lg transition-shadow cursor-pointer">
        <div class="text-3xl text-primary-500">
          <Icon icon="mdi:cog" />
        </div>
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-1">ç³»ç»Ÿè®¾ç½®</h3>
          <p class="text-gray-600 dark:text-gray-300 text-sm">ç³»ç»Ÿé…ç½®å’Œå‚æ•°ç®¡ç†</p>
        </div>
      </div>
    </div>

    <div class="max-w-2xl mx-auto">
      <n-card title="ç”¨æˆ·ä¿¡æ¯" class="shadow-md">
        <div class="space-y-3">
          <p class="flex items-center">
            <strong class="w-20 text-gray-700 dark:text-gray-300">æ‰‹æœºå·ï¼š</strong>
            {{ userStore.userProfile?.phone }}
          </p>
          <p class="flex items-center">
            <strong class="w-20 text-gray-700 dark:text-gray-300">ç”¨æˆ·åï¼š</strong>
            {{ userStore.userProfile?.username }}
          </p>
          <p class="flex items-center">
            <strong class="w-20 text-gray-700 dark:text-gray-300">çŠ¶æ€ï¼š</strong>
            <n-tag :type="userStore.userProfile?.isActive ? 'success' : 'error'">
              {{ userStore.userProfile?.isActive ? 'å·²æ¿€æ´»' : 'æœªæ¿€æ´»' }}
            </n-tag>
          </p>
          <p class="flex items-center">
            <strong class="w-20 text-gray-700 dark:text-gray-300">è§’è‰²ï¼š</strong>
            <n-tag v-for="roleId in userStore.userRoles" :key="roleId" class="mr-2">
              {{ roleId }}
            </n-tag>
          </p>
        </div>
      </n-card>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { Icon } from '@iconify/vue'
import { useUserStore } from '@/store/modules/user'

// ========================================
// ğŸ”§ çŠ¶æ€å’Œæ•°æ®
// ========================================

const userStore = useUserStore()

// å½“å‰æ—¥æœŸ
const currentDate = computed(() => {
  return new Date().toLocaleDateString('zh-CN', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    weekday: 'long'
  })
})
</script>
