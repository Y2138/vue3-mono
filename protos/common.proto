syntax = "proto3";

package common;

option go_package = "./common";

// 通用分页请求
message PaginationRequest {
  // 页码，从1开始
  int32 page = 1;
  // 每页大小，默认20
  int32 page_size = 2;
}

// 通用分页响应
message PaginationResponse {
  // 当前页码
  int32 page = 1;
  // 每页大小
  int32 page_size = 2;
  // 总记录数
  int64 total = 3;
  // 总页数
  int32 total_pages = 4;
}

// 通用响应状态
message ResponseStatus {
  // 状态码
  int32 code = 1;
  // 状态消息
  string message = 2;
  // 是否成功
  bool success = 3;
}

// 通用错误信息
message ErrorDetail {
  // 错误码
  string code = 1;
  // 错误消息
  string message = 2;
  // 错误字段（用于表单验证错误）
  string field = 3;
}

// ========================================
// 枚举相关定义
// ========================================

// 枚举项
message EnumItem {
  // 枚举值（支持字符串和数字）
  oneof value_type {
    string value_str = 1;
    int32 value = 2;
  }
  // 显示标签
  string label = 3;
  // 是否禁用
  optional bool disabled = 4;
  // 扩展属性（JSON格式）
  optional string extra = 5;
}

// 枚举项列表
message EnumItemList {
  // 枚举项数组
  repeated EnumItem values = 1;
}

// 枚举响应
message EnumResponse {
  // 枚举项映射（每个枚举对应一个 EnumItem 数组）
  map<string, EnumItemList> enums = 2;
  // 版本信息
  optional string version = 3;
}
